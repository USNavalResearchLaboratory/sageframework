<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Retrieving Information About Your Agent Network &mdash; SAGE User Guide v3.0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=536c50fe" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=30f05f40" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
    <link rel="shortcut icon" href="_static/SAGE-icon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=1413ff29"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=47f26a0a"></script>
        <script src="_static/doctools.js?v=6afcdcd2"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/js/custom.js?v=4441fbbd"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sending Messages Between Agents" href="sending_messages_between_agents.html" />
    <link rel="prev" title="Base Class - SAGE Behavior Methods" href="base_class_methods.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SAGE User Guide
          </a>
              <div class="version">
                3.0.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_server.html">SAGE Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_node.html">SAGE Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How It Works</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/USNavalResearchLaboratory/sageframework/releases/">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html"><strong>SAGE Server Application</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#main-window"><strong>Main Window</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#server-settings"><strong>Server Settings</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#network-tree-view"><strong>Network Tree View</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#network-graph-view"><strong>Network Graph View</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#starting-the-server"><strong>Starting the Server</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#active-server"><strong>Active Server</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#the-node-manager"><strong>The Node Manager</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#the-behavior-manager"><strong>The Behavior Manager</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#adding-a-behavior-to-an-agent"><strong>Adding a Behavior to an Agent</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#viewing-behavior-properties"><strong>Viewing Behavior Properties</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#removing-a-behavior-from-an-agent"><strong>Removing a Behavior from an Agent</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#activating-an-agent"><strong>Activating an Agent</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#deactivating-an-agent"><strong>Deactivating an Agent</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#sending-a-message"><strong>Sending a Message</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#sending-files-to-a-node"><strong>Sending Files to a Node</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#viewing-agent-state-spaces"><strong>Viewing Agent State Spaces</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#the-sage-robot-interface"><strong>The SAGE Robot Interface</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#the-log-viewer"><strong>The Log Viewer</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html#loading-and-saving-an-agent-network"><strong>Loading and Saving an Agent Network</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building SAGE Network</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="starting_a_server_instance.html">Starting a Server Instance</a></li>
<li class="toctree-l1"><a class="reference internal" href="connecting_a_node_to_the_server.html">Connecting a Node to the Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_an_agent_network.html">Building an Agent Network</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Creating Behaviors</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="writing_a_sage_behavior.html">Writing a SAGE Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="base_class_methods.html">Base Class - SAGE Behavior Methods</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Retrieving Information About Your Agent Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="sending_messages_between_agents.html">Sending Messages Between Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="responding_to_a_message_sent_to_an_agent.html">Responding to a Message Sent to an Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Managing Behaviors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="managing_behavior_files.html">Managing Behavior Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_a_behavior_to_an_agent.html">Adding a Behavior to an Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_supplemental_files_in_your_automation.html">Using Supplemental Files in Your Automation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Starting Network</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="activating_agents.html">Activating Agents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Running Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="robot_framework_background.html">Robot Framework Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_a_test_case_using_robot_framework.html">Creating A Test Case Using Robot Framework - Controller Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_robot_framework_keywords.html">SAGE Robot Framework Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_your_automation_test.html">Running Your Automation Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="capturing_the_test_results.html">Capturing the Test Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_your_own_controller_application.html">Creating Your Own Controller Application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demonstration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contact us</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SAGE User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Retrieving Information About Your Agent Network</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/retrieving_information_about_your_agent_network.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="retrieving-information-about-your-agent-network">
<h1>Retrieving Information About Your Agent Network<a class="headerlink" href="#retrieving-information-about-your-agent-network" title="Link to this heading"></a></h1>
<p>SAGE Agents will often need to find the names of SAGE Nodes that are part of the network as well as the names of SAGE Agents residing at a specific node. SAGE uses a query message send and reply protocol to provide this introspection capability.</p>
<p>SAGE Agents can send query messages to the SAGE Server by specifying <code class="xref py py-mod docutils literal notranslate"><span class="pre">sage</span></code> as the target Node in the Message object (m_targetNodeName). The type of query requested is specified in the message itself (m_message).</p>
<p>Replies are sent by the SAGE Server to the originating SAGE Agent and contain the original query in the m_message, while the results of the query are returned data element, m_data, of the Message object. Simple queries that request an enumeration of Node and Agent names receive a reply with the Node or Agent names as a string vector in m_data. Deeper queries that request all the relevant information about Nodes or Agents recieve a reply with a JSON object in the first element of the m_data vector (m_data[0]).</p>
<p>The following introspection queries are supported by SAGE:</p>
<p><strong>Querying the names of all the SAGE Nodes in the network</strong></p>
<p>To get the names of all the SAGE Nodes in the network, the message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getNodeNames</span></code>.</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getNodeNames</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getNodeNames&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a Message containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>m_message = <span class="s2">&quot;getNodeNames&quot;</span>
m_topic = <span class="s2">&quot;sage&quot;</span>
m_data[0] = <span class="s2">&quot;nodeName1&quot;</span>
        .
        .
m_data[n - 1] = <span class="s2">&quot;nodeNameN&quot;</span>
</pre></div>
</div>
<p><strong>Querying the names of all the SAGE Agents in the network</strong></p>
<p>To get the names of SAGE Agents at a specific SAGE Node, message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getAgentNames</span></code> with the name of the SAGE Node included as the first string data element in the Message object (m_data[0]).</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getAgentNames</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getAgentNames&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;nodeName1&quot;</span><span class="p">);</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a <code class="docutils literal notranslate"><span class="pre">Message</span></code> containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>m_message = <span class="s2">&quot;getAgentNames&quot;</span>
m_topic = <span class="s2">&quot;sage&quot;</span>
m_data[0] = <span class="s2">&quot;newAgentName1&quot;</span>
        .
        .
m_data[n - 1] = <span class="s2">&quot;newAgentNameN&quot;</span>
</pre></div>
</div>
<p><strong>Querying all of the SAGE Nodes in the network</strong></p>
<p>To get detailed information on all of the SAGE Nodes in a nework, message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getNodes</span></code>.</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getNodes</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getNodes&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a <code class="docutils literal notranslate"><span class="pre">Message</span></code> containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>      m_message = <span class="s2">&quot;getNodes&quot;</span>
      m_topic = <span class="s2">&quot;sage&quot;</span>
      m_data[0]=
      {
        <span class="s2">&quot;nodes&quot;</span>: {
                <span class="s2">&quot;Node1&quot;</span>: {
                        <span class="s2">&quot;agents&quot;</span>: {
                                <span class="s2">&quot;Agent1&quot;</span>: {
                                        <span class="s2">&quot;behaviors&quot;</span>: {
                                                <span class="s2">&quot;ExampleJavaBehavior&quot;</span>: {
                                                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;ExampleJavaBehavior.jar&quot;</span>,
                                                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                                                }
                                        }
                                },
                                <span class="s2">&quot;Agent2&quot;</span>: {
                                        <span class="s2">&quot;behaviors&quot;</span>: {
                                                <span class="s2">&quot;Hello&quot;</span>: {
                                                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;hello.jar&quot;</span>,
                                                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                                                }
                                        }
                                }
                        },
                        <span class="s2">&quot;runtimeEnvironment&quot;</span>: <span class="s2">&quot;Windows64&quot;</span>,
                        <span class="s2">&quot;ipAddress&quot;</span>: <span class="s2">&quot;127.0.0.1&quot;</span>
                },
                <span class="s2">&quot;Node2&quot;</span>: {
                        <span class="s2">&quot;agents&quot;</span>: {
                                <span class="s2">&quot;Agent3&quot;</span>: {
                                        <span class="s2">&quot;behaviors&quot;</span>: {
                                                <span class="s2">&quot;TestGetNode&quot;</span>: {
                                                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;TestGetNode.jar&quot;</span>,
                                                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                                                }
                                        }
                                },
                                <span class="s2">&quot;Agent4&quot;</span>: {
                                        <span class="s2">&quot;behaviors&quot;</span>: {
                                                <span class="s2">&quot;ExampleJavaBehavior&quot;</span>: {
                                                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;ExampleJavaBehavior.jar&quot;</span>,
                                                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                                                }
                                        }
                                }
                        },
                        <span class="s2">&quot;runtimeEnvironment&quot;</span>: <span class="s2">&quot;Windows64&quot;</span>,
                        <span class="s2">&quot;ipAddress&quot;</span>: <span class="s2">&quot;127.0.0.1&quot;</span>
                }
        }
}
</pre></div>
</div>
<p><strong>Querying a specific SAGE Node in the network</strong></p>
<p>To get detailed information of a single SAGE Node, message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getNode</span></code> and the first element of m_data (m_data[0]) should contain the target Node’s name.</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getNode</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getNode&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Node1&quot;</span><span class="p">);</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a <code class="docutils literal notranslate"><span class="pre">Message</span></code> containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>      m_message = <span class="s2">&quot;getNode&quot;</span>
      m_topic = <span class="s2">&quot;sage&quot;</span>
      m_data[0] =
      {
    <span class="s2">&quot;Node1&quot;</span>: {
        <span class="s2">&quot;agents&quot;</span>: {
            <span class="s2">&quot;Agent1&quot;</span>: {
                <span class="s2">&quot;behaviors&quot;</span>: {
                    <span class="s2">&quot;ExampleJavaBehavior&quot;</span>: {
                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;ExampleJavaBehavior.jar&quot;</span>,
                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                    }
                }
            },
            <span class="s2">&quot;Agent2&quot;</span>: {
                <span class="s2">&quot;behaviors&quot;</span>: {
                    <span class="s2">&quot;Hello&quot;</span>: {
                        <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;hello.jar&quot;</span>,
                        <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                    }
                }
            }
        },
        <span class="s2">&quot;runtimeEnvironment&quot;</span>: <span class="s2">&quot;Windows64&quot;</span>,
        <span class="s2">&quot;ipAddress&quot;</span>: <span class="s2">&quot;127.0.0.1&quot;</span>
    }
}
</pre></div>
</div>
<p><strong>Querying all of the SAGE Agents in the network</strong></p>
<p>To get detailed information on all of the SAGE Agents in a network, message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getAgents</span></code> and the first element of m_data (m_data[0]) should contain the target Node’s name.</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getAgents</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getAgents&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Node1&quot;</span><span class="p">);</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a <code class="docutils literal notranslate"><span class="pre">Message</span></code> containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>m_message = <span class="s2">&quot;getAgents&quot;</span>
m_topic = <span class="s2">&quot;sage&quot;</span>
data[0] =
{
  <span class="s2">&quot;agents&quot;</span>: {
          <span class="s2">&quot;Agent1&quot;</span>: {
                  <span class="s2">&quot;behaviors&quot;</span>: {
                          <span class="s2">&quot;ExampleJavaBehavior&quot;</span>: {
                                  <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;ExampleJavaBehavior.jar&quot;</span>,
                                  <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                          }
                  }
          },
          <span class="s2">&quot;Agent2&quot;</span>: {
                  <span class="s2">&quot;behaviors&quot;</span>: {
                          <span class="s2">&quot;Hello&quot;</span>: {
                                  <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;hello.jar&quot;</span>,
                                  <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                          }
                  }
          }
  }
}
</pre></div>
</div>
<p><strong>Querying a specific SAGE Agent in the network</strong></p>
<p>To get detailed information on a specific SAGE Agent in a network, message (m_message) should equal <code class="docutils literal notranslate"><span class="pre">getAgent</span></code> and the first element of m_data (m_data[0]) should contain the target Node’s name. The second element of m_data (m_data[1]) should contain the Agent’s name.</p>
<p>Here’s an example of a <code class="docutils literal notranslate"><span class="pre">getAgent</span></code> query generated in a Java behavior:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">Message</span><span class="w"> </span><span class="n">myMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>

<span class="n">myMessage</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;getAgent&quot;</span><span class="p">;</span>
<span class="n">myMessage</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sage&quot;</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Node1&quot;</span><span class="p">);</span>
<span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Agent1&quot;</span><span class="p">);</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="n">myMessage</span><span class="p">);</span>
</pre></div>
</div>
<p>In response to this query, the SAGE Server would reply to the sender with a <code class="docutils literal notranslate"><span class="pre">Message</span></code> containing the following:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>m_message = <span class="s2">&quot;getAgent&quot;</span>
m_topic = <span class="s2">&quot;sage&quot;</span>
data[0] =
{
  <span class="s2">&quot;Agent1&quot;</span>: {
          <span class="s2">&quot;behaviors&quot;</span>: {
                  <span class="s2">&quot;ExampleJavaBehavior&quot;</span>: {
                          <span class="s2">&quot;module&quot;</span>: <span class="s2">&quot;ExampleJavaBehavior.jar&quot;</span>,
                          <span class="s2">&quot;targetEnvironment&quot;</span>: <span class="s2">&quot;Any&quot;</span>
                  }
          }
        }
}
</pre></div>
</div>
<p><strong>Getting the name of the originating Agent and its Node</strong></p>
<p>There may be instances where you need to know information about the Agent who is currently using your Behavior, such as what Node it resides on. For instance, you may want to ensure that you create a new agent on the same node as the originating Agent.</p>
<p>To achieve this, agents contain a state space that is shared by all the agents’ behaviors. State space consists of name-value pairs where name is a unique string identifying a state variable and value is one of the following value types: double-precision floating-point number, a long integer, or a string.</p>
<p>Behaviors can create, remove, or modify the value of state variables. SAGE guarantees that state space is always synchronized across behavior executions.</p>
<p>SAGE provides two standard state values of type string that are available to behaviors:</p>
<ul class="simple">
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">node</span></code> is the name of the SAGE Node where the behavior’s agent resides</p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">agent</span></code> is the name of that agent.</p></li>
</ul>
<p>Use either the <code class="xref py py-mod docutils literal notranslate"><span class="pre">getState</span></code> or <code class="xref py py-mod docutils literal notranslate"><span class="pre">getStateNames</span></code> methods to return the Agent’s state space information</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">getState</span><span class="p">(</span><span class="s">&quot;node&quot;</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">getState</span><span class="p">(</span><span class="s">&quot;agent&quot;</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">getStateNames</span><span class="p">());</span>
</pre></div>
</div>
<p>If all goes well, you should see the following response</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">nodeName1</span>
<span class="n">newAgentName1</span>
<span class="o">[</span><span class="n">nodeName1</span><span class="p">,</span><span class="w"> </span><span class="n">newAgentName1</span><span class="o">]</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="base_class_methods.html" class="btn btn-neutral float-left" title="Base Class - SAGE Behavior Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sending_messages_between_agents.html" class="btn btn-neutral float-right" title="Sending Messages Between Agents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024 U.S. Naval Research Laboratory, This effort is partially funded by OPNAV N94 and MARCORSYSCOM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>
<script type="text/javascript">
	function resizeIframe(obj, y){
		obj.style.height = 0;
		y = parseInt(y);
		obj.style.height = (obj.contentWindow.document.body.scrollHeight + y) +  'px';
	}
</script>


</body>
</html>