<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example &mdash; SAGE User Guide v3.0.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=536c50fe" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=30f05f40" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
    <link rel="shortcut icon" href="_static/SAGE-icon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=1413ff29"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=47f26a0a"></script>
        <script src="_static/doctools.js?v=6afcdcd2"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/js/custom.js?v=4441fbbd"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Creating Your Own Controller Application" href="creating_your_own_controller_application.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SAGE User Guide
          </a>
              <div class="version">
                3.0.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_server.html">SAGE Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_node.html">SAGE Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How It Works</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/USNavalResearchLaboratory/sageframework/releases/">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_app.html">SAGE App</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building SAGE Network</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="starting_a_server_instance.html">Starting a Server Instance</a></li>
<li class="toctree-l1"><a class="reference internal" href="connecting_a_node_to_the_server.html">Connecting a Node to the Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_an_agent_network.html">Building an Agent Network</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Creating Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="writing_a_sage_behavior.html">Writing a SAGE Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="base_class_methods.html">Base Class - SAGE Behavior Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrieving_information_about_your_agent_network.html">Retrieving Information About Your Agent Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="sending_messages_between_agents.html">Sending Messages Between Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="responding_to_a_message_sent_to_an_agent.html">Responding to a Message Sent to an Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Managing Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="managing_behavior_files.html">Managing Behavior Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_a_behavior_to_an_agent.html">Adding a Behavior to an Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_supplemental_files_in_your_automation.html">Using Supplemental Files in Your Automation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Starting Network</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="activating_agents.html">Activating Agents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Running Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="robot_framework_background.html">Robot Framework Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_a_test_case_using_robot_framework.html">Creating A Test Case Using Robot Framework - Controller Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_robot_framework_keywords.html">SAGE Robot Framework Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_your_automation_test.html">Running Your Automation Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="capturing_the_test_results.html">Capturing the Test Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_your_own_controller_application.html">Creating Your Own Controller Application</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demonstration</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#test-case">Test case</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-test">Running test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generated-results">Generated results</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contact us</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SAGE User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Example</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/example.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example">
<span id="examples-label"></span><h1>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h1>
<section id="test-case">
<h2>Test case<a class="headerlink" href="#test-case" title="Link to this heading"></a></h2>
<p><strong>SenderReceiverTest.robot</strong></p>
<p>Robot file that uses the SageRobotKeywords [Library] and contains one [Test Case] titled “Test Message Communications”.</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span># <span class="s2">&quot;</span><span class="nv">%JAVAHOME_X64%</span><span class="s2">\bin\java.exe&quot;</span> -cp <span class="s2">&quot;</span><span class="nv">%SAGE_CLASSPATH%</span><span class="s2">&quot;</span> org.robotframework.RobotFramework SenderReceiverTest.robot

*** Settings ***
Documentation   Used to test communications across the Agent network.
...             Sets up SAGE Agents with their corresponding Behavior and activates them.
...             Waits until the Agents are done communicating to generate report.

Library         SageRobotKeywords
Test Setup      Connect to SAGE Server
Test Teardown   Log Results

*** Test Cases ***
Test Message Communications
        # Create Agents on existing Nodes
        Create Agent    NodeOne   Agent1
        Create Agent    NodeTwo   Agent2

        # Add Behaviors to Agents so that they can learn skill
        Add Behavior    NodeOne   Agent1        SenderReceiverBehavior   SenderReceiverBehavior.jar   talking
        Add Behavior    NodeTwo   Agent2        SenderReceiverBehavior   SenderReceiverBehavior.jar   talking

        # Activate Agents
        Activate Agent  NodeOne   Agent1
        Activate Agent  NodeTwo   Agent2

        # Wait until each Agent reports back to the Server upon completion
        Wait For Result   NodeOne   Agent1   SenderReceiverBehavior   teardown   100000
        Wait For Result   NodeTwo   Agent2   SenderReceiverBehavior   teardown   100000


*** Keywords ***
Connect to SAGE Server
        <span class="k">Start</span> Sage
        Connect to Sage Runtime   127.0.0.1   50001

Log Results
        # Gather results that have been logged
        <span class="p">@</span>{RESULTS}      Get Results

        <span class="p">:</span><span class="nl">FOR</span><span class="c1">    ${ELEMENT}    IN    @{RESULTS}</span>
        \       Report Result   ${ELEMENT}

        # Clear results so that no results are cached
        Clear Results
</pre></div>
</div>
<p>[Test Setup] includes running the Keyword named “Connect to SAGE Server”, identified in the <em>Keywords</em> table which includes:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">Sage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connect</span> <span class="pre">to</span> <span class="pre">Sage</span> <span class="pre">Runtime</span></code></p></li>
</ul>
</div></blockquote>
<p>The [Test Case] involves dynamically constructing two Agent entities on separate connected Nodes. Both Agents are to learn the same Behavior.</p>
<p>In order to add the Behavior to an Agent you must give the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Behavior</span></code> keyword the following arguments:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>nodeName</em> - refers to target Node.</p></li>
<li><p><em>agentName</em> - refers to target Agent.</p></li>
<li><p><em>behaviorName</em> - refers to the Behavior’s name (m_name) variable found within the Behavior’s constructor.</p></li>
<li><p><em>behaviorModule</em> - refers to the Behavior filename.</p></li>
<li><p><em>topics</em> - allows you to add tags to Behaviors so that you can properly associate a message with a particular Behavior.</p></li>
</ul>
</div></blockquote>
<p>Incorporating the <code class="docutils literal notranslate"><span class="pre">Wait</span> <span class="pre">For</span> <span class="pre">Result</span></code> keyword ensures that Robot will not conclude prematurely. In this example, you wait until the teardown() method of each Agent returns the results of its execution before concluding the test. This enables the Server to wait until the Agents have finished communicating before generating a report. Otherwise, Robot will conclude the test after activating Agent2.</p>
<p>After the test has concluded, the [Test Teardown] execution will gather the logged events from the preceding steps, as well as clear those logs once captured.</p>
<p><strong>SenderReceiverBehavior.java</strong></p>
<p>Behavior file that demonstrates the use of having both a reactive and proactive execution response.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="cm">/*  Use the following command line to build:</span>
<span class="cm">                javac -cp &quot;%SAGE_SERVER_HOME%&quot;\SageJavaBehaviorInterface.jar SenderReceiverBehavior.java</span>

<span class="cm">         Create JAR file:</span>
<span class="cm">                jar cf SenderReceiverBehavior.jar SenderReceiverBehavior.class</span>
<span class="cm">*/</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">nrl.sage.BehaviorInterface.*</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SenderReceiverBehavior</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SageBehavior</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">senderAgent</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">senderNode</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">receiptAgent</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">receiptNode</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">SenderReceiverBehavior</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">m_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SenderReceiverBehavior&quot;</span><span class="p">;</span>
<span class="w">                </span><span class="n">m_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Periodically sends messages to other agents all while receiving messages&quot;</span><span class="p">;</span>
<span class="w">                </span><span class="n">m_executionType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionType</span><span class="p">.</span><span class="na">TimedCyclical</span><span class="p">;</span>
<span class="w">                </span><span class="n">m_delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">                </span><span class="n">m_period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">setUp</span><span class="p">(</span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">                </span><span class="n">result</span><span class="p">.</span><span class="na">m_executionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionResultType</span><span class="p">.</span><span class="na">NotSet</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">action</span><span class="p">(</span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="k">try</span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// Using Agent state, retrieve the information of the Agent using this Behavior</span>
<span class="w">                        </span><span class="n">senderAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">getState</span><span class="p">(</span><span class="s">&quot;agent&quot;</span><span class="p">);</span>
<span class="w">                        </span><span class="n">senderNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">getState</span><span class="p">(</span><span class="s">&quot;node&quot;</span><span class="p">);</span>

<span class="w">                        </span><span class="c1">// Knowing who the sender agent is, store the intended agent recipient information</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">senderAgent</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;Agent1&quot;</span><span class="p">)){</span>
<span class="w">                                </span><span class="n">receiptAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Agent2&quot;</span><span class="p">;</span>
<span class="w">                                </span><span class="n">receiptNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;NodeTwo&quot;</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                </span><span class="n">receiptAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Agent1&quot;</span><span class="p">;</span>
<span class="w">                                </span><span class="n">receiptNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;NodeOne&quot;</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>

<span class="w">                        </span><span class="c1">// Construct the message content to send.</span>
<span class="w">                        </span><span class="n">Message</span><span class="w"> </span><span class="n">messageToAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Message</span><span class="p">();</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;send&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; messageNo:&quot;</span><span class="w"> </span><span class="o">+</span><span class="n">Integer</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">count</span><span class="p">);</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">senderAgent</span><span class="p">);</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">receiptAgent</span><span class="p">);</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_targetNodeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptNode</span><span class="p">;</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_targetAgentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptAgent</span><span class="p">;</span>
<span class="w">                        </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_topic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;talking&quot;</span><span class="p">;</span>
<span class="w">                        </span><span class="n">sendMessage</span><span class="p">(</span><span class="n">messageToAgent</span><span class="p">);</span>

<span class="w">                        </span><span class="c1">// Increase count to know how many messages have been sent</span>
<span class="w">                        </span><span class="n">count</span><span class="o">++</span><span class="p">;</span>

<span class="w">                        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">senderAgent</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; sent &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">messageToAgent</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; to &quot;</span><span class="w"> </span><span class="o">+</span><span class="n">receiptAgent</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">                        </span><span class="n">result</span><span class="p">.</span><span class="na">m_exception</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
<span class="w">                        </span><span class="n">result</span><span class="p">.</span><span class="na">m_executionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionResultType</span><span class="p">.</span><span class="na">ExceptionThrown</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="n">result</span><span class="p">.</span><span class="na">m_executionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionResultType</span><span class="p">.</span><span class="na">NotSet</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">message</span><span class="p">(</span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Print the message content in the console</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; received &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">m_message</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; from &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">.</span><span class="na">m_data</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>

<span class="w">                </span><span class="c1">// Deactivate agents after 20 messages have been sent</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">count</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">){</span>
<span class="w">                        </span><span class="n">setAgentActive</span><span class="p">(</span><span class="n">receiptNode</span><span class="p">,</span><span class="w"> </span><span class="n">receiptAgent</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">                        </span><span class="n">setAgentActive</span><span class="p">(</span><span class="n">senderNode</span><span class="p">,</span><span class="w"> </span><span class="n">senderAgent</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="n">result</span><span class="p">.</span><span class="na">m_executionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionResultType</span><span class="p">.</span><span class="na">NotSet</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">tearDown</span><span class="p">(</span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>

<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Tearing down behavior &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">m_name</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Log event</span>
<span class="w">                </span><span class="n">result</span><span class="p">.</span><span class="na">m_logMessages</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">senderAgent</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; signing off. Goodbye!&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Report back to the Server indicating a successful teardown</span>
<span class="w">                </span><span class="n">result</span><span class="p">.</span><span class="na">m_executionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionResultType</span><span class="p">.</span><span class="na">CompletionSuccess</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>The following indicates that the Agent will proactively respond at activation:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>m_executionType</em> has been set to TimedCyclical;</p></li>
</ul>
</div></blockquote>
<p>Proactive responses invoke the action() method. In this example, the response is to construct and send a message to a fellow Agent after identifying the originating Agent.</p>
<p>TimedCyclical execution type continuously invokes the action() method. This continuous calling of the action() method enables the Agent to send more than one message.</p>
<p>The message() method handles the Agents reactive response and is invoked by way of message. In this example, the Agent is assumed to receive messages that contain the following content:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>message.m_message</em> - contains a string.</p></li>
<li><p><em>message.m_data.get(0)</em> - contains the sender’s name.</p></li>
<li><p><em>message.m_data.get(1)</em> - contains the receiver’s name.</p></li>
</ul>
</div></blockquote>
<p>Once the Agent has received 20 messages it will proceed to deactivate its fellow Agent, as well as itself.</p>
<p>The tearDown() method will be invoked upon deactivation, signaling the Agent to report the result of the tearDown back to the Server.</p>
</section>
<section id="running-test">
<h2>Running test<a class="headerlink" href="#running-test" title="Link to this heading"></a></h2>
<p>On your <code class="docutils literal notranslate"><span class="pre">Server</span></code> machine, create a java file using the above Behavior code to create <code class="docutils literal notranslate"><span class="pre">SenderReceiverBehavior.java</span></code>. Compile the code and place it into the Java Behavior sub-directory:</p>
<blockquote>
<div><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">For</span> Windows: C:\ProgramData\SAGE\behaviors\Java\SenderReceiverBehavior.jar

For Linux: /etc/Sage/behaviors/Java/SenderReceiverBehavior.jar
</pre></div>
</div>
</div></blockquote>
<p>Ensure that both the SAGE Server and SAGE Node were installed with Java support. In addition, ensure that the Behavior file has been placed in the correct directory <em>(C:\ProgramData\SAGE\behaviors\Java)</em> on the Server machine. If not yet done, add the Behavior file to the specified directory.</p>
<p>Start the SAGE Server by opening the terminal and typing the command:</p>
<blockquote>
<div><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>SageServerConsole_x64.exe 50001
</pre></div>
</div>
</div></blockquote>
<p>Create and connect a Node named <code class="docutils literal notranslate"><span class="pre">NodeOne</span></code> by typing:</p>
<blockquote>
<div><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>SageNodeConsole_x64.exe NodeOne 127.0.0.1 50001
</pre></div>
</div>
</div></blockquote>
<p>Create and connect a Node named <code class="docutils literal notranslate"><span class="pre">NodeTwo</span></code> by typing:</p>
<blockquote>
<div><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>SageNodeConsole_x64.exe NodeTwo 127.0.0.1 50001
</pre></div>
</div>
</div></blockquote>
<p>Upon successful connection, you will be ready to run the test.</p>
<p>Create your Robot test case using the above Robot Framework code to create <code class="docutils literal notranslate"><span class="pre">SenderReceiverTest.robot</span></code>.</p>
<p>Start the example by by typing:</p>
<blockquote>
<div><div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>java -cp <span class="s2">&quot;</span><span class="nv">%SAGE_CLASSPATH%</span><span class="s2">&quot;</span> org.robotframework.RobotFramework SenderReceiverTest.robot
</pre></div>
</div>
</div></blockquote>
</section>
<section id="generated-results">
<span id="resultsdemo-label"></span><h2>Generated results<a class="headerlink" href="#generated-results" title="Link to this heading"></a></h2>
<p>A report and log HTML file are generated after running test. Report gives you an overview of the test execution by detailing viewable statistics including Pass/Fail ratios and elapsed times. Log details statistics from each step of the test execution, from keyword to keyword. It enables you to drill down on the specifics of the test in case of failure or otherwise <a class="reference external" href="http://robotframework.org/#examples">[*]</a>.</p>
<p>Expand the elements to find returned results for each step execution. For more information regarding report and log files, see <a class="reference external" href="http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#log-file">Robot Framework output documentation</a>.</p>
<p>This log is based on successfully running SenderReceiverTest.robot.</p>
<figure class="align-default">
<img alt="_images/log_example.png" src="_images/log_example.png" />
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="creating_your_own_controller_application.html" class="btn btn-neutral float-left" title="Creating Your Own Controller Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024 U.S. Naval Research Laboratory, This effort is partially funded by OPNAV N94 and MARCORSYSCOM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>
<script type="text/javascript">
	function resizeIframe(obj, y){
		obj.style.height = 0;
		y = parseInt(y);
		obj.style.height = (obj.contentWindow.document.body.scrollHeight + y) +  'px';
	}
</script>


</body>
</html>